import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';
import Color from './color'

<Meta title="Color" component={Color} />

# Color

The **[Color]** class allows you to handle colors easily.

You can manipulate a **[Color]** to add or subtract alpha, red, green or blue. And many other manipulations.

## Constructors

You can create a color from many ways :

### Classic

A color is represented like this :
`0xFFFFFFFF`

Where first group of two `FF` is alpha, second is red, third green and last blue.

```ts
import Color from './color';

const red = new Color(0xffff0000)
const green = new Color(0xff00ff00)
const blue = new Color(0xff0000ff)
```

As you expect, if you want a 50% transparent color you have to

```ts
import Color from './color';

const semiTransparentRed = new Color(0x80ff0000)
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: new Color(0x80ff0000).toRGBA() }} />
</Canvas>

### Color.fromARGB

You can also create a `Color` with `Color.fromARGB` method if you exactly know these values.

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(127.5, 255, 0, 0).toRGBA() }} />
</Canvas>

### Color.fromHSLA

You can also create a `Color` with `Color.fromHSLA` if you prefer !

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromHSLA(0, 100, 50, 127.5).toRGBA() }} />
</Canvas>

### Or by mutating a color (see more later)

```ts
import Color from './color';

const red = Color.fromARGB(255, 255, 0, 0)
const semiTransparent = red.withOpacity(0.5)
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 255, 0, 0).withOpacity(0.5).toRGBA() }} />
</Canvas>

## Methods

### toRGB()
Converts the [Color] instance to CSS `#rrggbbaa`.

```ts
import Color from './color';

const color = Color.fromARGB(255, 255, 0, 0)
console.log(color.toRGB()) // outputs : #ff0000ff
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 255, 0, 0).toRGB() }} />
</Canvas>

### toRGBA()
Converts the [Color] instance to CSS `rgba(rrr, ggg, bbb, o)`.

```ts
import Color from './color';

const color = Color.fromARGB(255, 255, 0, 0).withOpacity(0.5)
console.log(color.toRGBA()) // outputs : #rgba(255, 0, 0, 0.5)
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 255, 0, 0).withOpacity(0.5).toRGBA() }} />
</Canvas>

## Modifier methods

### withAlpha
Returns a new color that matches this color with the alpha channel replaced with a (which ranges from 0 to 255).

```ts
import Color from './color';

const color = new Color(0xff000000);
const alpha = color.withAlpha(127.5); // 50% transparent
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 255, 0, 0).withAlpha(127.5).toRGBA() }} />
</Canvas>

### withOpacity
Returns a new color that matches this color with the alpha channel replaced with a (which ranges from 0 to 255).

```ts
import Color from './color';

const color = new Color(0xff000000);
const alpha = color.withOpacity(0.5); // 50% transparent
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 255, 0, 0).withOpacity(0.5).toRGBA() }} />
</Canvas>

### withRed
Returns a new color that matches this color with the red channel replaced with r (which ranges from 0 to 255).

```ts
import Color from './color';

const color = new Color(0xff000000);
const alpha = color.withRed(255); // fully red
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 0, 0, 0).withRed(255).toRGBA() }} />
</Canvas>

### withGreen
Returns a new color that matches this color with the green channel replaced with g (which ranges from 0 to 255).

```ts
import Color from './color';

const color = new Color(0xff000000);
const alpha = color.withGreen(255); // fully green
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 0, 0, 0).withGreen(255).toRGBA() }} />
</Canvas>

### withBlue
Returns a new color that matches this color with the blue channel replaced with b (which ranges from 0 to 255).

```ts
import Color from './color';

const color = new Color(0xff000000);
const alpha = color.withBlue(255); // fully green
```

<Canvas>
  <div style={{ width: 50, height: 50, backgroundColor: Color.fromARGB(255, 0, 0, 0).withBlue(255).toRGBA() }} />
</Canvas>
